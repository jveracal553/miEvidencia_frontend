(this.webpackJsonpreact_miEvidencia_socialApp=this.webpackJsonpreact_miEvidencia_socialApp||[]).push([[0],{133:function(e,t,n){},134:function(e,t,n){"use strict";n.r(t);var c=n(2),s=n(36),a=n.n(s),l=n(5),i=n(4),o=n(14),r=n(1),d=function(e){var t=e.searchTerm,n=e.setSearchTerm,c=e.user,s=Object(i.f)();return c?Object(r.jsxs)("div",{className:"flex gap-2 md:gap-5 w-full mt-5 pb-7 ",children:[Object(r.jsxs)("div",{className:"flex justify-start items-center w-full px-2 rounded-md bg-white border-none outline-none focus-within:shadow-sm",children:[Object(r.jsx)(o.c,{fontSize:21,className:"ml-1"}),Object(r.jsx)("input",{type:"text",onChange:function(e){return n(e.target.value)},placeholder:"Buscar",value:t,onFocus:function(){return s("/search")},className:"p-2 w-full bg-white outline-none"})]}),Object(r.jsxs)("div",{className:"flex gap-3 ",children:[Object(r.jsx)(l.b,{to:"user-profile/".concat(null===c||void 0===c?void 0:c._id),className:"hidden md:block",children:Object(r.jsx)("img",{src:c.image,alt:"user-pic",className:"w-14 h-12 rounded-lg "})}),Object(r.jsx)(l.b,{to:"/create-pin",className:"bg-black text-white rounded-lg w-12 h-12 md:w-14 md:h-12 flex justify-center items-center",children:Object(r.jsx)(o.b,{})})]})]}):null},u=n(37),j=n.p+"static/media/logo.aece487f.png",b=[{name:"Alto Selva Alegre",image:"https://i.pinimg.com/750x/eb/47/44/eb4744eaa3b3ccd89749fa3470e2b0de.jpg"},{name:"Arequipa",image:"https://i.pinimg.com/236x/25/14/29/251429345940a47490cc3d47dfe0a8eb.jpg"},{name:"Cayma",image:"https://i.pinimg.com/236x/03/48/b6/0348b65919fcbe1e4f559dc4feb0ee13.jpg"},{name:"Cerro Colorado",image:"https://i.pinimg.com/750x/66/b1/29/66b1296d36598122e6a4c5452b5a7149.jpg"},{name:"Characato",image:"https://i.pinimg.com/236x/72/8c/b4/728cb43f48ca762a75da645c121e5c57.jpg"},{name:"Chiguata",image:"https://i.pinimg.com/236x/7d/ef/15/7def15ac734837346dac01fad598fc87.jpg"},{name:"Jacobo Hunter",image:"https://i.pinimg.com/236x/b9/82/d4/b982d49a1edd984c4faef745fd1f8479.jpg"},{name:"Jose L. Bustamente y R.",image:"https://i.pinimg.com/736x/f4/e5/ba/f4e5ba22311039662dd253be33bf5f0e.jpg"},{name:"La Joya",image:"https://i.pinimg.com/236x/fa/95/98/fa95986f2c408098531ca7cc78aee3a4.jpg"},{name:"Mariano Melgar",image:"https://i.pinimg.com/236x/46/7c/17/467c17277badb00b638f8ec4da89a358.jpg"},{name:"Miraflores",image:"https://i.pinimg.com/236x/6c/3c/52/6c3c529e8dadc7cffc4fddedd4caabe1.jpg"},{name:"Paucarpata",image:"https://i.pinimg.com/236x/1b/c8/30/1bc83077e363db1a394bf6a64b071e9f.jpg"},{name:"Yanahuara",image:"https://i.pinimg.com/236x/2e/63/c8/2e63c82dfd49aca8dccf9de3f57e8588.jpg"}],m='*[_type == "pin"] | order(_createdAt desc) {\n  image{\n    asset->{\n      url\n    }\n  },\n      _id,\n      destination,\n      postedBy->{\n        _id,\n        userName,\n        image\n      },\n      save[]{\n        _key,\n        postedBy->{\n          _id,\n          userName,\n          image\n        },\n      },\n    } ',f=function(e){return'*[_type == "pin" && title match \''.concat(e,"*' || category match '").concat(e,"*' || about match '").concat(e,"*']{\n        image{\n          asset->{\n            url\n          }\n        },\n            _id,\n            destination,\n            postedBy->{\n              _id,\n              userName,\n              image\n            },\n            save[]{\n              _key,\n              postedBy->{\n                _id,\n                userName,\n                image\n              },\n            },\n          }")},x=function(e){return'*[_type == "user" && _id == \''.concat(e,"']")},p="flex items-center px-5 gap-3 text-gray-500 hover:text-black transition-all duration-200 ease-in-out capitalize",h="flex items-center px-5 gap-3 font-extrabold border-r-2 border-black  transition-all duration-200 ease-in-out capitalize",g=function(e){var t=e.closeToggle,n=e.user,c=function(){t&&t(!1)};return Object(r.jsxs)("div",{className:"flex flex-col justify-between bg-white h-full overflow-y-scroll min-w-210 hide-scrollbar",children:[Object(r.jsxs)("div",{className:"flex flex-col",children:[Object(r.jsx)(l.b,{to:"/",className:"flex px-5 gap-2 my-6 pt-1 w-190 items-center",onClick:c,children:Object(r.jsx)("img",{src:j,alt:"logo",className:"w-full"})}),Object(r.jsxs)("div",{className:"flex flex-col gap-5",children:[Object(r.jsxs)(l.c,{to:"/",className:function(e){return e.isActive?h:p},onClick:c,children:[Object(r.jsx)(u.a,{}),"Inicio"]}),Object(r.jsx)("h3",{className:"mt-2 px-5 text-base 2xl:text-xl",children:"Descubre tu distrito"}),b.slice(0,b.length-1).map((function(e){return Object(r.jsxs)(l.c,{to:"/category/".concat(e.name),className:function(e){return e.isActive?h:p},onClick:c,children:[Object(r.jsx)("img",{src:e.image,className:"w-8 h-8 rounded-full shadow-sm",alt:""}),e.name]},e.name)}))]})]}),n&&Object(r.jsxs)(l.b,{to:"user-profile/".concat(n._id),className:"flex my-5 mb-3 gap-2 p-2 items-center bg-white rounded-lg shadow-lg mx-3",onClick:c,children:[Object(r.jsx)("img",{src:n.image,className:"w-10 h-10 rounded-full",alt:"user-profile"}),Object(r.jsx)("p",{children:n.userName}),Object(r.jsx)(o.a,{})]})]})},O=n(3),v=n(38),y=n.n(v),N=n(39),w=n.n(N),_=y()({projectId:"xd6m4bzn",dataset:"production",apiVersion:"2022-05-25",useCdn:!0,token:"skqL4BAsKyCVA78sA4gAIDS1jyYEG13ihypK3XDr04s3yuCcfqdV8GAXAXWBwQBeF9kpIQKtvZdmV2xHCK1nZZ67mW1TODZiKCHg0psPB8nLrrge9GgbyBpTuwa6wsy2ofrFy68RBalS5OdBp1UpY6vKULihZweUE0xGhvkCiDsXBntveVuj"}),S=w()(_),C=function(e){return S.image(e)},k=n(44),B=n(135),I=n(13),A=n(10),P=n(40),E=function(){return"undefined"!==localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")):localStorage.clear()},T=function(e){var t,n,s,a,o,d,u=e.pin,j=Object(c.useState)(!1),b=Object(O.a)(j,2),m=b[0],f=b[1],x=Object(c.useState)(!1),p=Object(O.a)(x,2),h=p[0],g=p[1],v=Object(i.f)(),y=u.postedBy,N=u.image,w=u._id,S=u.destination,k=E(),T=null===u||void 0===u||null===(t=u.save)||void 0===t?void 0:t.filter((function(e){var t;return(null===e||void 0===e||null===(t=e.postedBy)||void 0===t?void 0:t._id)===(null===k||void 0===k?void 0:k.googleId)}));T=(null===(n=T)||void 0===n?void 0:n.length)>0?T:[];return Object(r.jsxs)("div",{className:"m-2",children:[Object(r.jsxs)("div",{onMouseEnter:function(){return f(!0)},onMouseLeave:function(){return f(!1)},onClick:function(){return v("/pin-detail/".concat(w))},className:" relative cursor-zoom-in w-auto hover:shadow-lg rounded-lg overflow-hidden transition-all duration-500 ease-in-out",children:[N&&Object(r.jsx)("img",{className:"rounded-lg w-full ",src:C(N).width(250).url(),alt:"user-post"}),m&&Object(r.jsxs)("div",{className:"absolute top-0 w-full h-full flex flex-col justify-between p-1 pr-2 pt-2 pb-2 z-50",style:{height:"100%"},children:[Object(r.jsxs)("div",{className:"flex items-center justify-between",children:[Object(r.jsx)("div",{className:"flex gap-2",children:Object(r.jsx)("a",{href:"".concat(null===N||void 0===N||null===(s=N.asset)||void 0===s?void 0:s.url,"?dl="),download:!0,onClick:function(e){e.stopPropagation()},className:"bg-white w-9 h-9 p-2 rounded-full flex items-center justify-center text-dark text-xl opacity-75 hover:opacity-100 hover:shadow-md outline-none",children:Object(r.jsx)(I.b,{})})}),0!==(null===(a=T)||void 0===a?void 0:a.length)?Object(r.jsxs)("button",{type:"button",className:"bg-red-500 opacity-70 hover:opacity-100 text-white font-bold px-5 py-1 text-base rounded-3xl hover:shadow-md outline-none",children:[null===u||void 0===u||null===(o=u.save)||void 0===o?void 0:o.length," Saved"]}):Object(r.jsxs)("button",{onClick:function(e){e.stopPropagation(),function(e){var t;0===(null===(t=T)||void 0===t?void 0:t.length)&&(g(!0),_.patch(e).setIfMissing({save:[]}).insert("after","save[-1]",[{_key:Object(B.a)(),userId:null===k||void 0===k?void 0:k.googleId,postedBy:{_type:"postedBy",_ref:null===k||void 0===k?void 0:k.googleId}}]).commit().then((function(){window.location.reload(),g(!1)})))}(w)},type:"button",className:"bg-red-500 opacity-70 hover:opacity-100 text-white font-bold px-5 py-1 text-base rounded-3xl hover:shadow-md outline-none",children:[null===u||void 0===u||null===(d=u.save)||void 0===d?void 0:d.length," ",h?"Saving":"Save"]})]}),Object(r.jsxs)("div",{className:" flex justify-between items-center gap-2 w-full",children:[(null===S||void 0===S?void 0:S.slice(8).length)>0?Object(r.jsxs)("a",{href:S,target:"_blank",className:"bg-white flex items-center gap-2 text-black font-bold p-2 pl-4 pr-4 rounded-full opacity-70 hover:opacity-100 hover:shadow-md",rel:"noreferrer",children:[" ",Object(r.jsx)(P.a,{}),null===S||void 0===S?void 0:S.slice(8,17),"..."]}):void 0,(null===y||void 0===y?void 0:y._id)===(null===k||void 0===k?void 0:k.googleId)&&Object(r.jsx)("button",{type:"button",onClick:function(e){var t;e.stopPropagation(),t=w,_.delete(t).then((function(){window.location.reload()}))},className:"bg-white p-2 rounded-full w-8 h-8 flex items-center justify-center text-dark opacity-75 hover:opacity-100 outline-none",children:Object(r.jsx)(A.d,{})})]})]})]}),Object(r.jsxs)(l.b,{to:"/user-profile/".concat(null===y||void 0===y?void 0:y._id),className:"flex gap-2 mt-2 items-center",children:[Object(r.jsx)("img",{className:"w-8 h-8 rounded-full object-cover",src:null===y||void 0===y?void 0:y.image,alt:"user-profile"}),Object(r.jsx)("p",{className:"font-semibold capitalize",children:null===y||void 0===y?void 0:y.userName})]})]})},z={default:4,3e3:6,2e3:5,1200:3,1e3:2,500:1},F=function(e){var t=e.pins;return Object(r.jsx)(k.a,{className:"flex animate-slide-fwd",breakpointCols:z,children:null===t||void 0===t?void 0:t.map((function(e){return Object(r.jsx)(T,{pin:e,className:"w-max"},e._id)}))})},L=n(41),G=n.n(L);var J=function(e){var t=e.message;return Object(r.jsxs)("div",{className:"flex flex-col justify-center items-center w-full h-full",children:[Object(r.jsx)(G.a,{type:"Circles",color:"#00BFFF",height:50,width:200,className:"m-5"}),Object(r.jsx)("p",{className:"text-lg text-center px-2",children:t})]})},M=function(){var e=Object(c.useState)(),t=Object(O.a)(e,2),n=t[0],s=t[1],a=Object(c.useState)(!1),l=Object(O.a)(a,2),o=l[0],d=l[1],u=Object(i.g)().categoryId;Object(c.useEffect)((function(){if(u){d(!0);var e=f(u);_.fetch(e).then((function(e){s(e),d(!1)}))}else d(!0),_.fetch(m).then((function(e){s(e),d(!1)}))}),[u]);var j=u||"imagenes";return o?Object(r.jsx)(J,{message:"Pronto tendremos mas ".concat(j," para ti!")}):Object(r.jsx)("div",{children:n&&Object(r.jsx)(F,{pins:n})})},D=function(e){var t,n,s=e.user,a=Object(i.g)().pinId,o=Object(c.useState)(),d=Object(O.a)(o,2),u=d[0],j=d[1],b=Object(c.useState)(),m=Object(O.a)(b,2),f=m[0],x=m[1],p=Object(c.useState)(""),h=Object(O.a)(p,2),g=h[0],v=h[1],y=Object(c.useState)(!1),N=Object(O.a)(y,2),w=N[0],S=N[1],k=function(){var e=function(e){return'*[_type == "pin" && _id == \''.concat(e,"']{\n    image{\n      asset->{\n        url\n      }\n    },\n    _id,\n    title, \n    about,\n    category,\n    destination,\n    postedBy->{\n      _id,\n      userName,\n      image\n    },\n   save[]{\n      postedBy->{\n        _id,\n        userName,\n        image\n      },\n    },\n    comments[]{\n      comment,\n      _key,\n      postedBy->{\n        _id,\n        userName,\n        image\n      },\n    }\n  }")}(a);e&&_.fetch("".concat(e)).then((function(e){if(x(e[0]),console.log(e),e[0]){var t=(n=e[0],'*[_type == "pin" && category == \''.concat(n.category,"' && _id != '").concat(n._id,"' ]{\n    image{\n      asset->{\n        url\n      }\n    },\n    _id,\n    destination,\n    postedBy->{\n      _id,\n      userName,\n      image\n    },\n    save[]{\n      _key,\n      postedBy->{\n        _id,\n        userName,\n        image\n      },\n    },\n  }"));_.fetch(t).then((function(e){j(e)}))}var n}))};Object(c.useEffect)((function(){k()}),[a]);return f?Object(r.jsxs)(r.Fragment,{children:[f&&Object(r.jsxs)("div",{className:"flex xl:flex-row flex-col m-auto bg-white",style:{maxWidth:"1500px",borderRadius:"32px"},children:[Object(r.jsx)("div",{className:"flex justify-center items-center md:items-start flex-initial",children:Object(r.jsx)("img",{className:"rounded-t-3xl rounded-b-lg",src:(null===f||void 0===f?void 0:f.image)&&C(null===f||void 0===f?void 0:f.image).url(),alt:"user-post"})}),Object(r.jsxs)("div",{className:"w-full p-5 flex-1 xl:min-w-620",children:[Object(r.jsxs)("div",{className:"flex items-center justify-between",children:[Object(r.jsx)("div",{className:"flex gap-2 items-center",children:Object(r.jsx)("a",{href:"".concat(f.image.asset.url,"?dl="),download:!0,className:"bg-secondaryColor p-2 text-xl rounded-full flex items-center justify-center text-dark opacity-75 hover:opacity-100",children:Object(r.jsx)(I.b,{})})}),Object(r.jsx)("a",{href:f.destination,target:"_blank",rel:"noreferrer",children:null===(t=f.destination)||void 0===t?void 0:t.slice(8)})]}),Object(r.jsxs)("div",{children:[Object(r.jsx)("h1",{className:"text-4xl font-bold break-words mt-3",children:f.title}),Object(r.jsx)("p",{className:"mt-3",children:f.about})]}),Object(r.jsxs)(l.b,{to:"/user-profile/".concat(null===f||void 0===f?void 0:f.postedBy._id),className:"flex gap-2 mt-5 items-center bg-white rounded-lg ",children:[Object(r.jsx)("img",{src:null===f||void 0===f?void 0:f.postedBy.image,className:"w-10 h-10 rounded-full",alt:"user-profile"}),Object(r.jsx)("p",{className:"font-bold",children:null===f||void 0===f?void 0:f.postedBy.userName})]}),Object(r.jsx)("h2",{className:"mt-5 text-2xl",children:"Comments"}),Object(r.jsx)("div",{className:"max-h-370 overflow-y-auto",children:null===f||void 0===f||null===(n=f.comments)||void 0===n?void 0:n.map((function(e){var t,n;return Object(r.jsxs)("div",{className:"flex gap-2 mt-5 items-center bg-white rounded-lg",children:[Object(r.jsx)("img",{src:null===(t=e.postedBy)||void 0===t?void 0:t.image,className:"w-10 h-10 rounded-full cursor-pointer",alt:"user-profile"}),Object(r.jsxs)("div",{className:"flex flex-col",children:[Object(r.jsx)("p",{className:"font-bold",children:null===(n=e.postedBy)||void 0===n?void 0:n.userName}),Object(r.jsx)("p",{children:e.comment})]})]},e.comment)}))}),Object(r.jsxs)("div",{className:"flex flex-wrap mt-6 gap-3",children:[Object(r.jsx)(l.b,{to:"/user-profile/".concat(s._id),children:Object(r.jsx)("img",{src:s.image,className:"w-10 h-10 rounded-full cursor-pointer",alt:"user-profile"})}),Object(r.jsx)("input",{className:" flex-1 border-gray-100 outline-none border-2 p-2 rounded-2xl focus:border-gray-300",type:"text",placeholder:"Add a comment",value:g,onChange:function(e){return v(e.target.value)}}),Object(r.jsx)("button",{type:"button",className:"bg-red-500 text-white rounded-full px-6 py-2 font-semibold text-base outline-none",onClick:function(){g&&(S(!0),_.patch(a).setIfMissing({comments:[]}).insert("after","comments[-1]",[{comment:g,_key:Object(B.a)(),postedBy:{_type:"postedBy",_ref:s._id}}]).commit().then((function(){k(),v(""),S(!1)})))},children:w?"Doing...":"Done"})]})]})]}),(null===u||void 0===u?void 0:u.length)>0&&Object(r.jsx)("h2",{className:"text-center font-bold text-2xl mt-8 mb-4",children:"More like this"}),u?Object(r.jsx)(F,{pins:u}):Object(r.jsx)(J,{message:"Loading more pins"})]}):Object(r.jsx)(J,{message:"Showing pin"})},K=n(17),U=n.n(K),V="bg-red-500 text-white font-bold p-2 rounded-full w-20 outline-none",R="bg-primary mr-4 text-black font-bold p-2 rounded-full w-20 outline-none",Z=function(){var e=Object(c.useState)(),t=Object(O.a)(e,2),n=t[0],s=t[1],a=Object(c.useState)(),l=Object(O.a)(a,2),o=l[0],d=l[1],u=Object(c.useState)("Created"),j=Object(O.a)(u,2),b=j[0],m=j[1],f=Object(c.useState)("created"),p=Object(O.a)(f,2),h=p[0],g=p[1],v=Object(i.f)(),y=Object(i.g)().userId,N="undefined"!==localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")):localStorage.clear();Object(c.useEffect)((function(){var e=x(y);_.fetch(e).then((function(e){s(e[0])}))}),[y]),Object(c.useEffect)((function(){if("Created"===b){var e=function(e){return"*[ _type == 'pin' && userId == '".concat(e,"'] | order(_createdAt desc){\n    image{\n      asset->{\n        url\n      }\n    },\n    _id,\n    destination,\n    postedBy->{\n      _id,\n      userName,\n      image\n    },\n    save[]{\n      postedBy->{\n        _id,\n        userName,\n        image\n      },\n    },\n  }")}(y);_.fetch(e).then((function(e){d(e)}))}else{var t=function(e){return"*[_type == 'pin' && '".concat(e,"' in save[].userId ] | order(_createdAt desc) {\n    image{\n      asset->{\n        url\n      }\n    },\n    _id,\n    destination,\n    postedBy->{\n      _id,\n      userName,\n      image\n    },\n    save[]{\n      postedBy->{\n        _id,\n        userName,\n        image\n      },\n    },\n  }")}(y);_.fetch(t).then((function(e){d(e)}))}}),[b,y]);return n?Object(r.jsx)("div",{className:"relative pb-2 h-full justify-center items-center",children:Object(r.jsxs)("div",{className:"flex flex-col pb-5",children:[Object(r.jsxs)("div",{className:"relative flex flex-col mb-7",children:[Object(r.jsxs)("div",{className:"flex flex-col justify-center items-center",children:[Object(r.jsx)("img",{className:" w-full h-370 2xl:h-510 shadow-lg object-cover",src:"https://source.unsplash.com/1600x900/?nature,photography,technology",alt:"user-pic"}),Object(r.jsx)("img",{className:"rounded-full w-20 h-20 -mt-10 shadow-xl object-cover",src:n.image,alt:"user-pic"})]}),Object(r.jsx)("h1",{className:"font-bold text-3xl text-center mt-3",children:n.userName}),Object(r.jsx)("div",{className:"absolute top-0 z-1 right-0 p-2",children:y===N.googleId&&Object(r.jsx)(K.GoogleLogout,{clientId:"".concat("763616606255-diebl013r4ab2lf7n8n1dmod84hc67b0.apps.googleusercontent.com"),render:function(e){return Object(r.jsx)("button",{type:"button",className:" bg-white p-2 rounded-full cursor-pointer outline-none shadow-md",onClick:e.onClick,disabled:e.disabled,children:Object(r.jsx)(A.c,{color:"red",fontSize:21})})},onLogoutSuccess:function(){localStorage.clear(),v("/login")},cookiePolicy:"single_host_origin"})})]}),Object(r.jsxs)("div",{className:"text-center mb-7",children:[Object(r.jsx)("button",{type:"button",onClick:function(e){m(e.target.textContent),g("created")},className:"".concat("created"===h?V:R),children:"Created"}),Object(r.jsx)("button",{type:"button",onClick:function(e){m(e.target.textContent),g("saved")},className:"".concat("saved"===h?V:R),children:"Saved"})]}),Object(r.jsx)("div",{className:"px-2",children:Object(r.jsx)(F,{pins:o})}),0===(null===o||void 0===o?void 0:o.length)&&Object(r.jsx)("div",{className:"flex justify-center font-bold items-center w-full text-1xl mt-2",children:"No Pins Found!"})]})}):Object(r.jsx)(J,{message:"Loading profile"})},q=function(e){var t=e.user,n=Object(c.useState)(""),s=Object(O.a)(n,2),a=s[0],l=s[1],o=Object(c.useState)(""),d=Object(O.a)(o,2),u=d[0],j=d[1],m=Object(c.useState)(!1),f=Object(O.a)(m,2),x=f[0],p=f[1],h=Object(c.useState)(),g=Object(O.a)(h,2),v=g[0],y=g[1],N=Object(c.useState)(),w=Object(O.a)(N,2),S=w[0],C=w[1],k=Object(c.useState)(),B=Object(O.a)(k,2),P=B[0],E=B[1],T=Object(c.useState)(),z=Object(O.a)(T,2),F=z[0],L=z[1],G=Object(c.useState)(!1),M=Object(O.a)(G,2),D=M[0],K=M[1],U=Object(i.f)();return Object(r.jsxs)("div",{className:"flex flex-col justify-center items-center mt-5 lg:h-4/5",children:[S&&Object(r.jsx)("p",{className:"text-red-500 mb-5 text-xl transition-all duration-150 ease-in ",children:"Please add all fields."}),Object(r.jsxs)("div",{className:" flex lg:flex-row flex-col justify-center items-center bg-white lg:p-5 p-3 lg:w-4/5  w-full",children:[Object(r.jsx)("div",{className:"bg-secondaryColor p-3 flex flex-0.7 w-full",children:Object(r.jsxs)("div",{className:" flex justify-center items-center flex-col border-2 border-dotted border-gray-300 p-3 w-full h-420",children:[x&&Object(r.jsx)(J,{}),D&&Object(r.jsx)("p",{children:"It's wrong file type."}),F?Object(r.jsxs)("div",{className:"relative h-full",children:[Object(r.jsx)("img",{src:null===F||void 0===F?void 0:F.url,alt:"uploaded-pic",className:"h-full w-full"}),Object(r.jsx)("button",{type:"button",className:"absolute bottom-3 right-3 p-3 rounded-full bg-white text-xl cursor-pointer outline-none hover:shadow-md transition-all duration-500 ease-in-out",onClick:function(){return L(null)},children:Object(r.jsx)(I.a,{})})]}):Object(r.jsxs)("label",{children:[Object(r.jsxs)("div",{className:"flex flex-col items-center justify-center h-full",children:[Object(r.jsxs)("div",{className:"flex flex-col justify-center items-center",children:[Object(r.jsx)("p",{className:"font-bold text-2xl",children:Object(r.jsx)(A.b,{})}),Object(r.jsx)("p",{className:"text-lg",children:"Click to upload"})]}),Object(r.jsx)("p",{className:"mt-32 text-gray-400",children:"Recommendation: Use high-quality JPG, JPEG, SVG, PNG, GIF or TIFF less than 20MB"})]}),Object(r.jsx)("input",{type:"file",name:"upload-image",onChange:function(e){var t=e.target.files[0];"image/png"===t.type||"image/svg"===t.type||"image/jpeg"===t.type||"image/gif"===t.type||"image/tiff"===t.type?(K(!1),p(!0),_.assets.upload("image",t,{contentType:t.type,filename:t.name}).then((function(e){L(e),p(!1)})).catch((function(e){console.log("Upload failed:",e.message)}))):(p(!1),K(!0))},className:"w-0 h-0"})]})]})}),Object(r.jsxs)("div",{className:"flex flex-1 flex-col gap-6 lg:pl-5 mt-5 w-full",children:[Object(r.jsx)("input",{type:"text",value:a,onChange:function(e){return l(e.target.value)},placeholder:"Add your title",className:"outline-none text-2xl sm:text-3xl font-bold border-b-2 border-gray-200 p-2"}),t&&Object(r.jsxs)("div",{className:"flex gap-2 mt-2 mb-2 items-center bg-white rounded-lg ",children:[Object(r.jsx)("img",{src:t.image,className:"w-10 h-10 rounded-full",alt:"user-profile"}),Object(r.jsx)("p",{className:"font-bold",children:t.userName})]}),Object(r.jsx)("input",{type:"text",value:u,onChange:function(e){return j(e.target.value)},placeholder:"Tell everyone what your Pin is about",className:"outline-none text-base sm:text-lg border-b-2 border-gray-200 p-2"}),Object(r.jsx)("input",{type:"url",vlaue:v,onChange:function(e){return y(e.target.value)},placeholder:"Add a destination link",className:"outline-none text-base sm:text-lg border-b-2 border-gray-200 p-2"}),Object(r.jsxs)("div",{className:"flex flex-col",children:[Object(r.jsxs)("div",{children:[Object(r.jsx)("p",{className:"mb-2 font-semibold text:lg sm:text-xl",children:"Choose Pin Category"}),Object(r.jsxs)("select",{onChange:function(e){E(e.target.value)},className:"outline-none w-4/5 text-base border-b-2 border-gray-200 p-2 rounded-md cursor-pointer",children:[Object(r.jsx)("option",{value:"others",className:"sm:text-bg bg-white",children:"Select Category"}),b.map((function(e){return Object(r.jsx)("option",{className:"text-base border-0 outline-none capitalize bg-white text-black ",value:e.name,children:e.name})}))]})]}),Object(r.jsx)("div",{className:"flex justify-end items-end mt-5",children:Object(r.jsx)("button",{type:"button",onClick:function(){if(a&&u&&v&&(null===F||void 0===F?void 0:F._id)&&P){var e={_type:"pin",title:a,about:u,destination:v,image:{_type:"image",asset:{_type:"reference",_ref:null===F||void 0===F?void 0:F._id}},userId:t._id,postedBy:{_type:"postedBy",_ref:t._id},category:P};_.create(e).then((function(){U("/")}))}else C(!0),setTimeout((function(){C(!1)}),2e3)},className:"bg-red-500 text-white font-bold p-2 rounded-full w-28 outline-none",children:"Save Pin"})})]})]})]})]})},X=function(e){var t=e.searchTerm,n=Object(c.useState)(),s=Object(O.a)(n,2),a=s[0],l=s[1],i=Object(c.useState)(!1),o=Object(O.a)(i,2),d=o[0],u=o[1];return Object(c.useEffect)((function(){if(""!==t){u(!0);var e=f(t.toLowerCase());_.fetch(e).then((function(e){l(e),u(!1)}))}else _.fetch(m).then((function(e){l(e),u(!1)}))}),[t]),Object(r.jsxs)("div",{children:[d&&Object(r.jsx)(J,{message:"Buscando evidencias"}),0!==(null===a||void 0===a?void 0:a.length)&&Object(r.jsx)(F,{pins:a}),0===(null===a||void 0===a?void 0:a.length)&&""!==t&&!d&&Object(r.jsx)("div",{className:"mt-10 text-center text-xl ",children:"No se encontraron evidencias!"})]})},H=n(42),W=n.p+"static/media/mievidencia.2ef69efd.mp4",Y=n.p+"static/media/logowhite.3cfb5f82.png",Q=n(24),$=function(){var e=Object(i.f)();Object(c.useEffect)((function(){Q.a.load("client:auth2",(function(){Q.a.client.init({clientId:"763616606255-diebl013r4ab2lf7n8n1dmod84hc67b0.apps.googleusercontent.com",scope:""})}))}),[]);var t=function(t){localStorage.setItem("user",JSON.stringify(t.profileObj));var n=t.profileObj,c=n.name,s={_id:n.googleId,_type:"user",userName:c,image:n.imageUrl};_.createIfNotExists(s).then((function(){e("/",{replace:!0})}))};return Object(r.jsx)("div",{className:"flex justify-start items-center flex-col h-screen",children:Object(r.jsxs)("div",{className:"relative w-full h-full",children:[Object(r.jsx)("video",{src:W,type:"video/mp4",loop:!0,controls:!1,muted:!0,autoPlay:!0,className:"w-full h-full object-cover"}),Object(r.jsxs)("div",{className:"absolute flex flex-col justify-center items-center top-0 right-0 left-0 bottom-0 bg-blackOverlay",children:[Object(r.jsx)("div",{className:"p-5",children:Object(r.jsx)("img",{src:Y,width:"130px",alt:"logo"})}),Object(r.jsx)("div",{className:"shadow-2xl",children:Object(r.jsx)(U.a,{clientId:"".concat("763616606255-diebl013r4ab2lf7n8n1dmod84hc67b0.apps.googleusercontent.com"),render:function(e){return Object(r.jsxs)("button",{type:"button",className:"bg-mainColor flex justify-center items-center p-3 rounded-lg cursor-pointer outline-none",onClick:e.onClick,disabled:e.disabled,children:[Object(r.jsx)(H.a,{className:"mr-4"})," Sign in with google"]})},onSuccess:t,onFailure:t,cookiePolicy:"single_host_origin"})})]})]})})},ee=n(43),te=function(e){var t=e.user,n=Object(c.useState)(""),s=Object(O.a)(n,2),a=s[0],l=s[1];return Object(r.jsxs)("div",{className:"px-2 md:px-5",children:[Object(r.jsx)("div",{className:"bg-gray-50",children:Object(r.jsx)(d,{searchTerm:a,setSearchTerm:l,user:t&&t})}),Object(r.jsx)("div",{className:"h-full",children:Object(r.jsxs)(i.c,{children:[Object(r.jsx)(i.a,{path:"/",element:Object(r.jsx)(M,{})}),Object(r.jsx)(i.a,{path:"/category/:categoryId",element:Object(r.jsx)(M,{})}),Object(r.jsx)(i.a,{path:"/pin-detail/:pinId",element:Object(r.jsx)(D,{user:t&&t})}),Object(r.jsx)(i.a,{path:"/create-pin",element:Object(r.jsx)(q,{user:t&&t})}),Object(r.jsx)(i.a,{path:"/search",element:Object(r.jsx)(X,{searchTerm:a,setSearchTerm:l})})]})})]})},ne=function(){var e=Object(c.useState)(!1),t=Object(O.a)(e,2),n=t[0],s=t[1],a=Object(c.useState)(null),o=Object(O.a)(a,2),d=o[0],u=o[1],b=Object(c.useRef)(null),m=E();return Object(c.useEffect)((function(){var e=x(null===m||void 0===m?void 0:m.googleId);_.fetch(e).then((function(e){u(e[0])}))})),Object(c.useEffect)((function(){b.current.scrollTo(0,0)}),[]),Object(r.jsxs)("div",{className:"flex bg-gray-50 md:flex-row flex-col h-screen transaction-height duration-75 ease-out",children:[Object(r.jsx)("div",{className:"hidden md:flex h-screen flex-initial",children:Object(r.jsx)(g,{user:d&&d})}),Object(r.jsxs)("div",{className:"flex md:hidden flex-row",children:[Object(r.jsxs)("div",{className:"p-2 w-full flex flex-row justify-between items-center shadow-md",children:[Object(r.jsx)(ee.a,{fontSize:40,className:"cursor-pointer",onClick:function(){return s(!0)}}),Object(r.jsx)(l.b,{to:"/",children:Object(r.jsx)("img",{src:j,alt:"logo",className:"w-28"})}),Object(r.jsx)(l.b,{to:"user-profile/".concat(null===d||void 0===d?void 0:d._id),children:Object(r.jsx)("img",{src:null===d||void 0===d?void 0:d.image,alt:"logo",className:"w-28"})})]}),n&&Object(r.jsxs)("div",{className:"fixed w-4/5 bg-white h-screen overflow-y-auto shadow-md z-10 animate-slide-in",children:[Object(r.jsx)("div",{className:"absolute w-full flex justify-end items-center p-2",children:Object(r.jsx)(A.a,{fontSize:30,className:"cursor-pointer",onClick:function(){return s(!1)}})}),Object(r.jsx)(g,{user:d&&d,closeToggle:s})]})]}),Object(r.jsx)("div",{className:"pb-2 flex-1 h-screen overflow-y-scroll",ref:b,children:Object(r.jsxs)(i.c,{children:[Object(r.jsx)(i.a,{path:"/user-profile/:userId",element:Object(r.jsx)(Z,{})}),Object(r.jsx)(i.a,{path:"/*",element:Object(r.jsx)(te,{user:d&&d})})]})})]})},ce=function(){return Object(r.jsxs)(i.c,{children:[Object(r.jsx)(i.a,{path:"login",element:Object(r.jsx)($,{})}),Object(r.jsx)(i.a,{path:"/*",element:Object(r.jsx)(ne,{})})]})};n(133);a.a.render(Object(r.jsx)(l.a,{children:Object(r.jsx)(ce,{})}),document.getElementById("root"))}},[[134,1,2]]]);
//# sourceMappingURL=main.d59a20a4.chunk.js.map
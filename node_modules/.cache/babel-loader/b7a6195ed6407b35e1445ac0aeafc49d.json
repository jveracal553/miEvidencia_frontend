{"ast":null,"code":"import _slicedToArray from\"/Users/shadowm/Documents/final_project/mi_evidencia/mievidencia_frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import MasonryLayout from\"./MasonryLayout\";import{client}from\"../client\";import{feedQuery,searchQuery}from\"../utils/data\";import Spinner from\"./Spinner\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Search=function Search(_ref){var searchTerm=_ref.searchTerm;var _useState=useState(),_useState2=_slicedToArray(_useState,2),pins=_useState2[0],setPins=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];useEffect(function(){if(searchTerm!==\"\"){setLoading(true);var query=searchQuery(searchTerm.toLowerCase());client.fetch(query).then(function(data){setPins(data);setLoading(false);});}else{client.fetch(feedQuery).then(function(data){setPins(data);setLoading(false);});}},[searchTerm]);return/*#__PURE__*/_jsxs(\"div\",{children:[loading&&/*#__PURE__*/_jsx(Spinner,{message:\"Buscando evidencias\"}),(pins===null||pins===void 0?void 0:pins.length)!==0&&/*#__PURE__*/_jsx(MasonryLayout,{pins:pins}),(pins===null||pins===void 0?void 0:pins.length)===0&&searchTerm!==\"\"&&!loading&&/*#__PURE__*/_jsx(\"div\",{className:\"mt-10 text-center text-xl \",children:\"No se encontraron evidencias!\"})]});};export default Search;","map":{"version":3,"names":["React","useEffect","useState","MasonryLayout","client","feedQuery","searchQuery","Spinner","Search","searchTerm","pins","setPins","loading","setLoading","query","toLowerCase","fetch","then","data","length"],"sources":["/Users/shadowm/Documents/final_project/mi_evidencia/mievidencia_frontend/src/components/Search.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\n\nimport MasonryLayout from \"./MasonryLayout\";\nimport { client } from \"../client\";\nimport { feedQuery, searchQuery } from \"../utils/data\";\nimport Spinner from \"./Spinner\";\n\nconst Search = ({ searchTerm }) => {\n  const [pins, setPins] = useState();\n  const [loading, setLoading] = useState(false);\n\n  useEffect(() => {\n    if (searchTerm !== \"\") {\n      setLoading(true);\n      const query = searchQuery(searchTerm.toLowerCase());\n      client.fetch(query).then((data) => {\n        setPins(data);\n        setLoading(false);\n      });\n    } else {\n      client.fetch(feedQuery).then((data) => {\n        setPins(data);\n        setLoading(false);\n      });\n    }\n  }, [searchTerm]);\n\n  return (\n    <div>\n      {loading && <Spinner message=\"Buscando evidencias\" />}\n      {pins?.length !== 0 && <MasonryLayout pins={pins} />}\n      {pins?.length === 0 && searchTerm !== \"\" && !loading && (\n        <div className=\"mt-10 text-center text-xl \">\n          No se encontraron evidencias!\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default Search;\n"],"mappings":"+LAAA,MAAOA,MAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CAEA,MAAOC,cAAP,KAA0B,iBAA1B,CACA,OAASC,MAAT,KAAuB,WAAvB,CACA,OAASC,SAAT,CAAoBC,WAApB,KAAuC,eAAvC,CACA,MAAOC,QAAP,KAAoB,WAApB,C,wFAEA,GAAMC,OAAM,CAAG,QAATA,OAAS,MAAoB,IAAjBC,WAAiB,MAAjBA,UAAiB,CACjC,cAAwBP,QAAQ,EAAhC,wCAAOQ,IAAP,eAAaC,OAAb,eACA,eAA8BT,QAAQ,CAAC,KAAD,CAAtC,yCAAOU,OAAP,eAAgBC,UAAhB,eAEAZ,SAAS,CAAC,UAAM,CACd,GAAIQ,UAAU,GAAK,EAAnB,CAAuB,CACrBI,UAAU,CAAC,IAAD,CAAV,CACA,GAAMC,MAAK,CAAGR,WAAW,CAACG,UAAU,CAACM,WAAX,EAAD,CAAzB,CACAX,MAAM,CAACY,KAAP,CAAaF,KAAb,EAAoBG,IAApB,CAAyB,SAACC,IAAD,CAAU,CACjCP,OAAO,CAACO,IAAD,CAAP,CACAL,UAAU,CAAC,KAAD,CAAV,CACD,CAHD,EAID,CAPD,IAOO,CACLT,MAAM,CAACY,KAAP,CAAaX,SAAb,EAAwBY,IAAxB,CAA6B,SAACC,IAAD,CAAU,CACrCP,OAAO,CAACO,IAAD,CAAP,CACAL,UAAU,CAAC,KAAD,CAAV,CACD,CAHD,EAID,CACF,CAdQ,CAcN,CAACJ,UAAD,CAdM,CAAT,CAgBA,mBACE,uBACGG,OAAO,eAAI,KAAC,OAAD,EAAS,OAAO,CAAC,qBAAjB,EADd,CAEG,CAAAF,IAAI,OAAJ,EAAAA,IAAI,SAAJ,QAAAA,IAAI,CAAES,MAAN,IAAiB,CAAjB,eAAsB,KAAC,aAAD,EAAe,IAAI,CAAET,IAArB,EAFzB,CAGG,CAAAA,IAAI,OAAJ,EAAAA,IAAI,SAAJ,QAAAA,IAAI,CAAES,MAAN,IAAiB,CAAjB,EAAsBV,UAAU,GAAK,EAArC,EAA2C,CAACG,OAA5C,eACC,YAAK,SAAS,CAAC,4BAAf,2CAJJ,GADF,CAWD,CA/BD,CAiCA,cAAeJ,OAAf"},"metadata":{},"sourceType":"module"}
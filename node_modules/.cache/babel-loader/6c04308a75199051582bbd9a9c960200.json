{"ast":null,"code":"import _slicedToArray from\"/Users/shadowm/Documents/final_project/mi_evidencia/mievidencia_frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";// import React, { useState, useRef, useEffect } from \"react\";\n// import { HiMenu } from \"react-icons/hi\";\n// import { AiFillCloseCircle } from \"react-icons/ai\";\n// import { Link, Route, Routes } from \"react-router-dom\";\n// import { Sidebar, UserProfile } from \"../components\";\n// import { userQuery } from \"../utils/data\";\n// import { client } from \"../client\";\n// import Pins from \"./Pins\";\n// import logo from \"../assets/logo.png\";\n// const Home = () => {\n//   const [toggleSidebar, setToggleSidebar] = useState(false);\n//   const [user, setUser] = useState();\n//   const scrollRef = useRef(null);\n//   const userInfo =\n//     localStorage.getItem(\"user\") !== \"undefined\"\n//       ? JSON.parse(localStorage.getItem(\"user\"))\n//       : localStorage.clear();\n//   useEffect(() => {\n//     const query = userQuery(userInfo?.googleId);\n//     client.fetch(query).then((data) => {\n//       setUser(data[0]);\n//     });\n//   });\n//   useEffect(() => {\n//     scrollRef.current.scrollTo(0, 0);\n//   });\n//   return (\n//     <div className=\"flex bg-gray-50 md:flex-row flex-col h-screen transition-height duration-75 ease-out\">\n//       <div className=\"hidden md:flex h-screen flex-initial\">\n//         <Sidebar user={user && user} />\n//       </div>\n//       <div className=\"flex md:hidden flex-row\">\n//         <div className=\"p-2 w-full flex flex-row justify-between items-center shadow-md\">\n//           <HiMenu\n//             fontSize={40}\n//             className=\"cursor-pointer\"\n//             onClick={() => setToggleSidebar(true)}\n//           />\n//           <Link to=\"/\">\n//             <img src={logo} alt=\"logo\" className=\"w-28\" />\n//           </Link>\n//           <Link to={`user-profile/${user?._id}`}>\n//             <img\n//               src={user?.image}\n//               alt=\"user-pic\"\n//               className=\"w-9 h-9 rounded-full \"\n//             />\n//           </Link>\n//         </div>\n//         {toggleSidebar && (\n//           <div className=\"fixed w-4/5 bg-white h-screen overflow-y-auto shadow-md z-10 animate-slide-in\">\n//             <div className=\"absolute w-full flex justify-end items-center p-2\">\n//               <AiFillCloseCircle\n//                 fontSize={30}\n//                 className=\"cursor-pointer\"\n//                 onClick={() => setToggleSidebar(false)}\n//               />\n//             </div>\n//             <Sidebar closeToggle={setToggleSidebar} user={user && user} />\n//           </div>\n//         )}\n//       </div>\n//       <div className=\"pb-2 flex-1 h-screen overflow-y-scroll\" ref={scrollRef}>\n//         <Routes>\n//           <Route path=\"/user-profile/:userId\" element={<UserProfile />} />\n//           <Route path=\"/*\" element={<Pins user={user && user} />} />\n//         </Routes>\n//       </div>\n//     </div>\n//   );\n// };\n// export default Home;\nimport React,{useState,useRef,useEffect}from\"react\";import{HiMenu}from\"react-icons/hi\";import{AiFillCloseCircle}from\"react-icons/ai\";import{Link,Route,Routes}from\"react-router-dom\";import{Sidebar,UserProfile}from\"../components\";import Pins from\"./Pins\";import{userQuery}from\"../utils/data\";import{client}from\"../client\";import logo from\"../assets/logo.png\";import{fetchUser}from\"../utils/fetchUser\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Home=function Home(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),toggleSidebar=_useState2[0],setToggleSidebar=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),user=_useState4[0],setUser=_useState4[1];var scrollRef=useRef(null);var userInfo=fetchUser();useEffect(function(){var query=userQuery(userInfo===null||userInfo===void 0?void 0:userInfo.googleId);client.fetch(query).then(function(data){setUser(data[0]);});// }, []);\n});useEffect(function(){scrollRef.current.scrollTo(0,0);},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"flex bg-gray-50 md:flex-row flex-col h-screen transaction-height duration-75 ease-out\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"hidden md:flex h-screen flex-initial\",children:/*#__PURE__*/_jsx(Sidebar,{user:user&&user})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex md:hidden flex-row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"p-2 w-full flex flex-row justify-between items-center shadow-md\",children:[/*#__PURE__*/_jsx(HiMenu,{fontSize:40,className:\"cursor-pointer\",onClick:function onClick(){return setToggleSidebar(true);}}),/*#__PURE__*/_jsx(Link,{to:\"/\",children:/*#__PURE__*/_jsx(\"img\",{src:logo,alt:\"logo\",className:\"w-28\"})}),/*#__PURE__*/_jsx(Link,{to:\"user-profile/\".concat(user===null||user===void 0?void 0:user._id),children:/*#__PURE__*/_jsx(\"img\",{src:user===null||user===void 0?void 0:user.image,alt:\"logo\",className:\"w-28\"})})]}),toggleSidebar&&/*#__PURE__*/_jsxs(\"div\",{className:\"fixed w-4/5 bg-white h-screen overflow-y-auto shadow-md z-10 animate-slide-in\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"absolute w-full flex justify-end items-center p-2\",children:/*#__PURE__*/_jsx(AiFillCloseCircle,{fontSize:30,className:\"cursor-pointer\",onClick:function onClick(){return setToggleSidebar(false);}})}),/*#__PURE__*/_jsx(Sidebar,{user:user&&user,closeToggle:setToggleSidebar})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"pb-2 flex-1 h-screen overflow-y-scroll\",ref:scrollRef,children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/user-profile/:userId\",element:/*#__PURE__*/_jsx(UserProfile,{})}),/*#__PURE__*/_jsx(Route,{path:\"/*\",element:/*#__PURE__*/_jsx(Pins,{user:user&&user})})]})})]});};export default Home;","map":{"version":3,"names":["React","useState","useRef","useEffect","HiMenu","AiFillCloseCircle","Link","Route","Routes","Sidebar","UserProfile","Pins","userQuery","client","logo","fetchUser","Home","toggleSidebar","setToggleSidebar","user","setUser","scrollRef","userInfo","query","googleId","fetch","then","data","current","scrollTo","_id","image"],"sources":["/Users/shadowm/Documents/final_project/mi_evidencia/mievidencia_frontend/src/container/Home.jsx"],"sourcesContent":["// import React, { useState, useRef, useEffect } from \"react\";\n// import { HiMenu } from \"react-icons/hi\";\n// import { AiFillCloseCircle } from \"react-icons/ai\";\n// import { Link, Route, Routes } from \"react-router-dom\";\n\n// import { Sidebar, UserProfile } from \"../components\";\n// import { userQuery } from \"../utils/data\";\n// import { client } from \"../client\";\n// import Pins from \"./Pins\";\n// import logo from \"../assets/logo.png\";\n\n// const Home = () => {\n//   const [toggleSidebar, setToggleSidebar] = useState(false);\n//   const [user, setUser] = useState();\n//   const scrollRef = useRef(null);\n\n//   const userInfo =\n//     localStorage.getItem(\"user\") !== \"undefined\"\n//       ? JSON.parse(localStorage.getItem(\"user\"))\n//       : localStorage.clear();\n\n//   useEffect(() => {\n//     const query = userQuery(userInfo?.googleId);\n\n//     client.fetch(query).then((data) => {\n//       setUser(data[0]);\n//     });\n//   });\n\n//   useEffect(() => {\n//     scrollRef.current.scrollTo(0, 0);\n//   });\n\n//   return (\n//     <div className=\"flex bg-gray-50 md:flex-row flex-col h-screen transition-height duration-75 ease-out\">\n//       <div className=\"hidden md:flex h-screen flex-initial\">\n//         <Sidebar user={user && user} />\n//       </div>\n//       <div className=\"flex md:hidden flex-row\">\n//         <div className=\"p-2 w-full flex flex-row justify-between items-center shadow-md\">\n//           <HiMenu\n//             fontSize={40}\n//             className=\"cursor-pointer\"\n//             onClick={() => setToggleSidebar(true)}\n//           />\n//           <Link to=\"/\">\n//             <img src={logo} alt=\"logo\" className=\"w-28\" />\n//           </Link>\n//           <Link to={`user-profile/${user?._id}`}>\n//             <img\n//               src={user?.image}\n//               alt=\"user-pic\"\n//               className=\"w-9 h-9 rounded-full \"\n//             />\n//           </Link>\n//         </div>\n//         {toggleSidebar && (\n//           <div className=\"fixed w-4/5 bg-white h-screen overflow-y-auto shadow-md z-10 animate-slide-in\">\n//             <div className=\"absolute w-full flex justify-end items-center p-2\">\n//               <AiFillCloseCircle\n//                 fontSize={30}\n//                 className=\"cursor-pointer\"\n//                 onClick={() => setToggleSidebar(false)}\n//               />\n//             </div>\n//             <Sidebar closeToggle={setToggleSidebar} user={user && user} />\n//           </div>\n//         )}\n//       </div>\n//       <div className=\"pb-2 flex-1 h-screen overflow-y-scroll\" ref={scrollRef}>\n//         <Routes>\n//           <Route path=\"/user-profile/:userId\" element={<UserProfile />} />\n//           <Route path=\"/*\" element={<Pins user={user && user} />} />\n//         </Routes>\n//       </div>\n//     </div>\n//   );\n// };\n\n// export default Home;\n\nimport React, { useState, useRef, useEffect } from \"react\";\nimport { HiMenu } from \"react-icons/hi\";\nimport { AiFillCloseCircle } from \"react-icons/ai\";\nimport { Link, Route, Routes } from \"react-router-dom\";\n\nimport { Sidebar, UserProfile } from \"../components\";\nimport Pins from \"./Pins\";\nimport { userQuery } from \"../utils/data\";\nimport { client } from \"../client\";\nimport logo from \"../assets/logo.png\";\nimport { fetchUser } from \"../utils/fetchUser\";\n\nconst Home = () => {\n  const [toggleSidebar, setToggleSidebar] = useState(false);\n  const [user, setUser] = useState(null);\n  const scrollRef = useRef(null);\n  const userInfo = fetchUser();\n\n  useEffect(() => {\n    const query = userQuery(userInfo?.googleId);\n\n    client.fetch(query).then((data) => {\n      setUser(data[0]);\n    });\n    // }, []);\n  });\n\n  useEffect(() => {\n    scrollRef.current.scrollTo(0, 0);\n  }, []);\n\n  return (\n    <div className=\"flex bg-gray-50 md:flex-row flex-col h-screen transaction-height duration-75 ease-out\">\n      <div className=\"hidden md:flex h-screen flex-initial\">\n        <Sidebar user={user && user} />\n      </div>\n      <div className=\"flex md:hidden flex-row\">\n        <div className=\"p-2 w-full flex flex-row justify-between items-center shadow-md\">\n          <HiMenu\n            fontSize={40}\n            className=\"cursor-pointer\"\n            onClick={() => setToggleSidebar(true)}\n          />\n          <Link to=\"/\">\n            <img src={logo} alt=\"logo\" className=\"w-28\" />\n          </Link>\n          <Link to={`user-profile/${user?._id}`}>\n            <img src={user?.image} alt=\"logo\" className=\"w-28\" />\n          </Link>\n        </div>\n        {toggleSidebar && (\n          <div className=\"fixed w-4/5 bg-white h-screen overflow-y-auto shadow-md z-10 animate-slide-in\">\n            <div className=\"absolute w-full flex justify-end items-center p-2\">\n              <AiFillCloseCircle\n                fontSize={30}\n                className=\"cursor-pointer\"\n                onClick={() => setToggleSidebar(false)}\n              />\n            </div>\n            <Sidebar user={user && user} closeToggle={setToggleSidebar} />\n          </div>\n        )}\n      </div>\n      <div className=\"pb-2 flex-1 h-screen overflow-y-scroll\" ref={scrollRef}>\n        <Routes>\n          <Route path=\"/user-profile/:userId\" element={<UserProfile />} />\n          <Route path=\"/*\" element={<Pins user={user && user} />} />\n        </Routes>\n      </div>\n    </div>\n  );\n};\n\nexport default Home;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}